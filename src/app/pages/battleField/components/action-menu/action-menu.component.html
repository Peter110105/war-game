@if(selectedUnit){
<div
  class="action-menu"
  [style.left.px]="position.x"
  [style.top.px]="position.y"
>
  <div class="menu-header">
    <span class="unit-name">{{ selectedUnit.name }}</span>
    <span class="unit-status">
      {{ selectedUnit.actionState.canMoved ? "" : "å·²ç§»å‹•" }}
      {{ selectedUnit.actionState.canAttacked ? "" : "å·²æ”»æ“Š" }}
    </span>
  </div>

  <div class="menu-buttons">
    <button
      class="action-btn move-btn"
      [disabled]="!canMove"
      (click)="selectAction('move')"
    >
      <span class="btn-icon">ğŸš¶</span>
      <span class="btn-text">ç§»å‹•</span>
    </button>

    <button
      class="action-btn attack-btn"
      [disabled]="!canAttack"
      (click)="selectAction('attack')"
    >
      <span class="btn-icon">âš”ï¸</span>
      <span class="btn-text">æ”»æ“Š</span>
    </button>

    <button
      class="action-btn skill-btn"
      [disabled]="!hasActiveSkills"
      (click)="selectAction('skill')"
    >
      <span class="btn-icon">âœ¨</span>
      <span class="btn-text">æŠ€èƒ½</span>
    </button>

    <button class="action-btn wait-btn" (click)="selectAction('wait')">
      <span class="btn-icon">â¸ï¸</span>
      <span class="btn-text">å¾…æ©Ÿ</span>
    </button>

    <button class="action-btn cancel-btn" (click)="selectAction('cancel')">
      <span class="btn-icon">âŒ</span>
      <span class="btn-text">å–æ¶ˆ</span>
    </button>
  </div>
</div>
}
