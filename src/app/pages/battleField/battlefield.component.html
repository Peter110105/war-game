<div class="battlefield-container">
  <!-- Phaser 遊戲畫布 -->
  <div #gameContainer class="game-canvas"></div>

  <!-- Angular UI 覆蓋層 -->
  <div class="ui-overlay">
    <!-- 單位資訊面板 -->
    <app-unit-info-panel [unit]="selectedUnit"></app-unit-info-panel>

    <!-- 回合資訊 -->
    <div class="turn-info">
      <div class="info-item">
        <span class="label">回合:</span>
        <span class="value">{{ gameState.turn }}</span>
      </div>
      <div class="info-item">
        <span class="label">當前玩家:</span>
        <span class="value player-name">{{ currentPlayer.name }}</span>
      </div>
    </div>

    <!-- 結束回合按鈕 -->
    <button
      class="end-turn-btn"
      [disabled]="!isCurrentPlayer()"
      (click)="endTurn()"
    >
      結束回合
    </button>

    <!-- 命令選單 -->
    @if(showActionMenu){
    <app-action-menu
      [selectedUnit]="selectedUnit"
      [position]="menuPosition"
      (actionSelected)="onActionSelected($event)"
    ></app-action-menu>
    }
  </div>
</div>
