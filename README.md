# WarGame

é€™æ˜¯ä¸€å€‹ä½¿ç”¨ Angular + Phaser é–‹ç™¼çš„å›åˆåˆ¶æˆ°æ£‹éŠæˆ²ã€‚

## æŠ€è¡“æ£§

- **Angular 20.1.3**: å‰ç«¯æ¡†æ¶ï¼Œè² è²¬ UI å±¤å’Œç‹€æ…‹ç®¡ç†
- **Phaser 3**: éŠæˆ²æ¸²æŸ“å¼•æ“ï¼Œè² è²¬åœ–å½¢æ¸²æŸ“å’Œå‹•ç•«
- **RxJS**: éŸ¿æ‡‰å¼ç·¨ç¨‹ï¼Œç”¨æ–¼äº‹ä»¶ç®¡ç†
- **TypeScript**: é–‹ç™¼èªè¨€

## æ¶æ§‹è¨­è¨ˆ

æ¡ç”¨ **Command Pattern** + **äº‹ä»¶é©…å‹•** æ¶æ§‹ï¼š

- Angular è² è²¬éŠæˆ²é‚è¼¯ã€ç‹€æ…‹ç®¡ç†å’Œ UI
- Phaser è² è²¬åœ–å½¢æ¸²æŸ“ã€å‹•ç•«å’Œè¼¸å…¥è™•ç†
- é€é EventBus (RxJS Subject) å¯¦ç¾é›™å‘æºé€š

## é–‹ç™¼ä¼ºæœå™¨

å•Ÿå‹•æœ¬åœ°é–‹ç™¼ä¼ºæœå™¨ï¼š

```bash
ng serve
```

åœ¨ç€è¦½å™¨ä¸­è¨ªå• `http://localhost:4200/`ã€‚

## æ§‹å»ºå°ˆæ¡ˆ

```bash
ng build
```

æ§‹å»ºç”¢ç‰©å°‡å­˜å„²åœ¨ `dist/` ç›®éŒ„ä¸­ã€‚

## åŸ·è¡Œæ¸¬è©¦

```bash
ng test
```

---

## ğŸ“ å°ˆæ¡ˆç›®éŒ„çµæ§‹

```
src/
â”œâ”€ app/
â”‚   â”œâ”€ core/
â”‚   â”‚  â”œâ”€ guards/                     # //TODO è·¯ç”±å®ˆè¡›
â”‚   â”‚  â”œâ”€ interceptors/               # //TODO HTTP æ””æˆªå™¨
â”‚   â”‚  â””â”€ services/
â”‚   â”‚     â””â”€ game-state-loader.service.ts
â”‚   â”‚
â”‚   â”œâ”€ feature/
â”‚   â”‚  â””â”€ game/
â”‚   â”‚     â”‚
â”‚   â”‚     â”œâ”€ core/
â”‚   â”‚     â”‚  â”œâ”€ command/
â”‚   â”‚     â”‚  â”‚  â”œâ”€ command.interface.ts
â”‚   â”‚     â”‚  â”‚  â””â”€ command-factory.ts           # //TODO å‘½ä»¤å·¥å» 
â”‚   â”‚     â”‚  â””â”€ state/                   # //TODO ç‹€æ…‹ç®¡ç†é‡çµ„
â”‚   â”‚     â”‚     â”œâ”€ game-state.service.ts       # æ ¸å¿ƒç‹€æ…‹
â”‚   â”‚     â”‚     â”œâ”€ turn-manager.service.ts     # å›åˆç®¡ç†
â”‚   â”‚     â”‚     â”œâ”€ unit-query.service.ts       # å–®ä½æŸ¥è©¢
â”‚   â”‚     â”‚     â””â”€ game-event.service.ts       # äº‹ä»¶ç¸½ç·š
â”‚   â”‚     â”‚
â”‚   â”‚     â”œâ”€ config/                  # é…ç½®æ¨¡çµ„
â”‚   â”‚     â”‚  â”œâ”€ game/
â”‚   â”‚     â”‚  â”‚  â”œâ”€ game.config.ts           # åŸºç¤é…ç½®
â”‚   â”‚     â”‚  â”‚  â””â”€ visual.config.ts         # //TODO è¦–è¦ºé…ç½® (é¡è‰²ã€å‹•ç•«æ™‚é–“)
â”‚   â”‚     â”‚  â”‚
â”‚   â”‚     â”‚  â”œâ”€ skill/
â”‚   â”‚     â”‚  â”‚  â”œâ”€ passive-skills.config.ts # è¢«å‹•æŠ€èƒ½
â”‚   â”‚     â”‚  â”‚  â”œâ”€ active-skills.config.ts  # ä¸»å‹•æŠ€èƒ½
â”‚   â”‚     â”‚  â”‚  â”œâ”€ skill-registry.ts        # æŠ€èƒ½è¨»å†Šè¡¨
â”‚   â”‚     â”‚  â”‚  â””â”€ index.ts                 # çµ±ä¸€å°å‡º
â”‚   â”‚     â”‚  â”‚
â”‚   â”‚     â”‚  â”œâ”€ terrain/
â”‚   â”‚     â”‚  â”‚  â””â”€ terrain.config.ts
â”‚   â”‚     â”‚  â”‚
â”‚   â”‚     â”‚  â””â”€ unit/
â”‚   â”‚     â”‚     â”œâ”€ unit-types.config.ts     # å–®ä½é¡å‹å®šç¾©
â”‚   â”‚     â”‚     â”œâ”€ unit-stats.config.ts     # å–®ä½å±¬æ€§é…ç½®
â”‚   â”‚     â”‚     â”œâ”€ exp.config.ts            # ç¶“é©—å€¼é…ç½®
â”‚   â”‚     â”‚     â””â”€ index.ts                 # çµ±ä¸€å°å‡º
â”‚   â”‚     â”‚
â”‚   â”‚     â”œâ”€ factory/
â”‚   â”‚     â”‚  â”œâ”€ game-state.factory.ts
â”‚   â”‚     â”‚  â””â”€ unit.factory.ts             # //TODO å–®ä½å·¥å» 
â”‚   â”‚     â”‚
â”‚   â”‚     â”œâ”€ model/
â”‚   â”‚     â”‚  â”œâ”€ game-state.model.ts
â”‚   â”‚     â”‚  â”œâ”€ player.model.ts
â”‚   â”‚     â”‚  â”œâ”€ tile.model.ts
â”‚   â”‚     â”‚  â”œâ”€ unit.model.ts
â”‚   â”‚     â”‚  â””â”€ skill.model.ts
â”‚   â”‚     â”‚
â”‚   â”‚     â”œâ”€ phaser/                  # //TODO Phaser å±¤é‡çµ„
â”‚   â”‚     â”‚  â”œâ”€ config/
â”‚   â”‚     â”‚  â”‚  â””â”€ phaser.config.ts
â”‚   â”‚     â”‚  â”‚
â”‚   â”‚     â”‚  â”œâ”€ managers/             # æ¸²æŸ“ç®¡ç†å™¨
â”‚   â”‚     â”‚  â”‚  â”œâ”€ animation.manager.ts
â”‚   â”‚     â”‚  â”‚  â”œâ”€ input.manager.ts
â”‚   â”‚     â”‚  â”‚  â”œâ”€ rendering/              # æ¸²æŸ“ç®¡ç†å™¨åˆ†çµ„
â”‚   â”‚     â”‚  â”‚  â”‚  â”œâ”€ unit-renderer.manager.ts
â”‚   â”‚     â”‚  â”‚  â”‚  â”œâ”€ terrain-renderer.manager.ts
â”‚   â”‚     â”‚  â”‚  â”‚  â”œâ”€ hp-bar.manager.ts
â”‚   â”‚     â”‚  â”‚  â”‚  â””â”€ effect-renderer.manager.ts
â”‚   â”‚     â”‚  â”‚  â””â”€ ui/                     # //TODO UI ç®¡ç†å™¨åˆ†çµ„
â”‚   â”‚     â”‚  â”‚     â”œâ”€ tooltip.manager.ts     # æç¤ºæ¡†ç®¡ç†
â”‚   â”‚     â”‚  â”‚     â””â”€ damage-text.manager.ts # å‚·å®³æ•¸å­—ç®¡ç†
â”‚   â”‚     â”‚  â”‚
â”‚   â”‚     â”‚  â””â”€ scenes/
â”‚   â”‚     â”‚     â”œâ”€ battlefield.scene.ts    # ä¸»å ´æ™¯
â”‚   â”‚     â”‚     â”œâ”€ handlers/              # å ´æ™¯è™•ç†å™¨
â”‚   â”‚     â”‚     â”‚  â”œâ”€ scene-event.handler.ts    # äº‹ä»¶è™•ç†
â”‚   â”‚     â”‚     â”‚  â”œâ”€ scene-input.handler.ts    # è¼¸å…¥è™•ç†
â”‚   â”‚     â”‚     â”‚  â””â”€ scene-visual.handler.ts   # è¦–è¦ºæ•ˆæœ
â”‚   â”‚     â”‚     â””â”€ ui-overlay.scene.ts    # //TODO UI è¦†è“‹å±¤ (æœªä¾†)
â”‚   â”‚     â”‚
â”‚   â”‚     â”œâ”€ system/
â”‚   â”‚     â”‚     â”œâ”€ ai/                      # //TODO AI ç³»çµ± (ç‚º v0.8.0 æº–å‚™)
â”‚   â”‚     â”‚     â”‚  â”œâ”€ ai-controller.service.ts     # AI æ§åˆ¶å™¨
â”‚   â”‚     â”‚     â”‚  â”œâ”€ ai-evaluator.service.ts      # å±€é¢è©•ä¼°
â”‚   â”‚     â”‚     â”‚  â””â”€ ai-strategy/                 # AI ç­–ç•¥
â”‚   â”‚     â”‚     â”‚     â”œâ”€ basic-ai.strategy.ts
â”‚   â”‚     â”‚     â”‚     â”œâ”€ medium-ai.strategy.ts
â”‚   â”‚     â”‚     â”‚     â””â”€ hard-ai.strategy.ts
â”‚   â”‚     â”‚     â”œâ”€ combat/                  # //TODO é‡çµ„ï¼šæˆ°é¬¥ç³»çµ±æ¨¡çµ„åŒ–
â”‚   â”‚     â”‚     â”‚  â”œâ”€ combat-processor.ts          # å‘½ä»¤è™•ç†
â”‚   â”‚     â”‚     â”‚  â”œâ”€ combat-calculator.service.ts # å‚·å®³è¨ˆç®—
â”‚   â”‚     â”‚     â”‚  â”œâ”€ combat-executor.service.ts   # æˆ°é¬¥åŸ·è¡Œ
â”‚   â”‚     â”‚     â”‚  â””â”€ combat-validator.service.ts  # æ”»æ“Šé©—è­‰
â”‚   â”‚     â”‚     â”œâ”€ level/                   # //TODO é—œå¡ç³»çµ± (ç‚º v0.7.0 æº–å‚™)
â”‚   â”‚     â”‚     â”‚  â”œâ”€ level-loader.service.ts       # //TODO é—œå¡è¼‰å…¥
â”‚   â”‚     â”‚     â”‚  â”œâ”€ level-validator.service.ts    # //TODO é—œå¡é©—è­‰
â”‚   â”‚     â”‚     â”‚  â””â”€ victory-condition.service.ts  # //TODO å‹åˆ©æ¢ä»¶
â”‚   â”‚     â”‚     â”œâ”€ movement/                # ç§»å‹•ç³»çµ±æ¨¡çµ„åŒ–
â”‚   â”‚     â”‚     â”‚  â”œâ”€ movement-processor.ts         # å‘½ä»¤è™•ç†
â”‚   â”‚     â”‚     â”‚  â”œâ”€ path-finding.service.ts       # å°‹è·¯ç®—æ³•
â”‚   â”‚     â”‚     â”‚  â””â”€ movement-validator.service.ts # //TODO ç§»å‹•é©—è­‰
â”‚   â”‚     â”‚     â””â”€ skill/                   # //TODO æŠ€èƒ½ç³»çµ±æ¨¡çµ„åŒ–
â”‚   â”‚     â”‚        â”œâ”€ skill.service.ts            # æ ¸å¿ƒæœå‹™
â”‚   â”‚     â”‚        â”œâ”€ skill-effect.service.ts     # æ•ˆæœæ‡‰ç”¨
â”‚   â”‚     â”‚        â”œâ”€ skill-condition.service.ts  # æ¢ä»¶æª¢æŸ¥
â”‚   â”‚     â”‚        â””â”€ skill-cooldown.service.ts   # å†·å»ç®¡ç†
â”‚   â”‚     â”‚
â”‚   â”‚     â””â”€ unit/                    # //TODO å–®ä½ç³»çµ±æ¨¡çµ„åŒ–
â”‚   â”‚        â”œâ”€ unit-level.service.ts       # ç¶“é©—å‡ç´š
â”‚   â”‚        â””â”€ unit-state.service.ts       # å–®ä½ç‹€æ…‹ç®¡ç†
â”‚   â”‚
â”‚   â”œâ”€ pages/
â”‚   â”‚  â””â”€ battlefield/
â”‚   â”‚     â”œâ”€ battlefield.component.ts
â”‚   â”‚     â”œâ”€ battlefield.component.html
â”‚   â”‚     â”œâ”€ battlefield.component.css
â”‚   â”‚     â”‚
â”‚   â”‚     â””â”€ components/
â”‚   â”‚        â”œâ”€ action-menu/
â”‚   â”‚        â”œâ”€ unit-info-panel/
â”‚   â”‚        â”œâ”€ game-result-modal/
â”‚   â”‚        â””â”€ level-up-animation/
â”‚   â”‚
â”‚   â”œâ”€ shared/                        # //TODOå…±ç”¨å±¤æ“´å……
â”‚   â”‚  â”œâ”€ components/                 # å…±ç”¨å…ƒä»¶ (æœªä¾†)
â”‚   â”‚  â”œâ”€ directives/                 # å…±ç”¨æŒ‡ä»¤ (æœªä¾†)
â”‚   â”‚  â”œâ”€ pipes/                      # å…±ç”¨ç®¡é“ (æœªä¾†)
â”‚   â”‚  â”œâ”€ models/                     # å…±ç”¨æ¨¡å‹ (æœªä¾†)
â”‚   â”‚  â””â”€ utils/ //TODO
â”‚   â”‚     â”œâ”€ math.helper.ts           # æ•¸å­¸å·¥å…·
â”‚   â”‚     â”œâ”€ format.helper.ts         # æ ¼å¼åŒ–å·¥å…·
â”‚   â”‚     â””â”€ game.helper.ts           # éŠæˆ²å·¥å…·
â”‚   â”‚
â”‚   â”œâ”€ app.ts
â”‚   â”œâ”€ app.html
â”‚   â”œâ”€ app.css
â”‚   â”œâ”€ app.routes.ts
â”‚   â”œâ”€ app.config.ts
â”‚   â””â”€ app.spec.ts
â”‚
â”œâ”€ assets/
â”‚   â”œâ”€ data/                          # éŠæˆ²è³‡æ–™
â”‚   â”‚  â”œâ”€ levels/                     # é—œå¡é…ç½®
â”‚   â”‚  â”‚  â”œâ”€ tutorial-01.json
â”‚   â”‚  â”‚  â”œâ”€ stage-01.json
â”‚   â”‚  â”‚  â””â”€ stage-02.json
â”‚   â”‚  â””â”€ initial-game-state.json
â”‚   â”‚
â”‚   â”œâ”€ images/                        # //TODO åœ–ç‰‡è³‡æº
â”‚   â”‚  â”œâ”€ units/
â”‚   â”‚  â”œâ”€ terrain/
â”‚   â”‚  â””â”€ ui/
â”‚   â”‚
â”‚   â””â”€ sounds/                        # //TODO éŸ³æ•ˆè³‡æº
â”‚      â”œâ”€ bgm/
â”‚      â””â”€ sfx/
â”‚
â”œâ”€ environments/                      # ç’°å¢ƒé…ç½®
â”‚  â”œâ”€ environment.ts
â”‚  â””â”€ environment.prod.ts
â”‚
â”œâ”€ index.html
â”œâ”€ main.ts
â””â”€ styles.css
```

---

## ğŸ® éŠæˆ²åŠŸèƒ½

### âœ… å·²å®ŒæˆåŠŸèƒ½

#### åŸºç¤ç³»çµ± (v0.0.1 - v0.2.0)

- âœ… Phaser + Angular æ•´åˆ
- âœ… åœ°åœ–æ¸²æŸ“ (ç¶²æ ¼)
- âœ… å–®ä½æ¸²æŸ“ (æ–¹å¡Š)
- âœ… Command Pattern å¯¦ç¾
- âœ… é»æ“Šé¸å–å–®ä½
- âœ… ç§»å‹•å‘½ä»¤
- âœ… ç§»å‹•å‹•ç•«
- âœ… ç§»å‹•ç¯„åœé«˜äº®
- âœ… A\* è·¯å¾‘å°‹æ‰¾
- âœ… å–®ä½è³‡è¨Šé¢æ¿
- âœ… å›åˆåˆ‡æ›æ©Ÿåˆ¶
- âœ… å›åˆè³‡è¨Šé¡¯ç¤º

#### æˆ°é¬¥ç³»çµ± (v0.3.0)

- âœ… æ”»æ“Šå‘½ä»¤
- âœ… æ”»æ“Šç¯„åœé«˜äº®
- âœ… å‚·å®³è¨ˆç®—ç³»çµ±
- âœ… æ“Šæ®ºåˆ¤å®šèˆ‡å–®ä½ç§»é™¤
- âœ… æ”»æ“Šå‹•ç•«
- âœ… åˆå§‹åŒ–è³‡æ–™å¤–éƒ¨åŒ– (JSON)

#### UI ç³»çµ± (v0.4.0)

- âœ… è¡Œå‹•é¸å–®
- âœ… å–®ä½è¡€æ¢
- âœ… å‹åˆ©/å¤±æ•—ç•«é¢
- âœ… å·¥å» æ¨¡å¼å¯¦ç¾

#### åœ°å½¢ç³»çµ± (v0.5.0)

- âœ… ä¸åŒåœ°å½¢åœ–ç¤º (è‰åŸ/å±±/æ£®æ—/æ°´åŸŸ/åŸå ¡)
- âœ… åœ°å½¢ç§»å‹•æ¶ˆè€—
- âœ… åœ°å½¢é˜²ç¦¦åŠ æˆ
- âœ… åœ°å½¢è¦–è¦ºæ•ˆæœ

#### å–®ä½ç³»çµ±æ“´å…… (v0.6.0)

- âœ… å¤šç¨®å–®ä½é¡å‹ (åŠå£«/å¼“å…µ/é¨å£«/æ³•å¸«/é¨å…µ/é£›å…µ/ç‰§å¸«)
- âœ… å–®ä½å±¬æ€§å·®ç•°åŒ–
- âœ… å–®ä½ç‰¹æ®ŠæŠ€èƒ½ç³»çµ± (è¢«å‹•/ä¸»å‹•)
- âœ… å–®ä½å‡ç´šç³»çµ±
- âœ… ç¶“é©—å€¼ç²å– (æ“Šæ®ºã€é€ æˆå‚·å®³)
- âœ… å±¬æ€§æˆé•·æ©Ÿåˆ¶

#### æŠ€èƒ½ç³»çµ± (å¤šæ•ˆæœ)

- âœ… è¢«å‹•æŠ€èƒ½ (ç‹‚æˆ°å£«ã€éµå£ã€è‡´å‘½ä¸€æ“Šã€åæ“Šã€åœ°å½¢é©æ‡‰ã€ç¥é€Ÿã€å†ç”Ÿã€å¸è¡€)
- âœ… ä¸»å‹•æŠ€èƒ½ (æ²»ç™‚è¡“ã€å¼·åŠ›ä¸€æ“Šã€ç›¾æ“Šã€é€£é–é–ƒé›»ã€ç¾¤é«”æ²»ç™‚ã€ç‹‚æš´ã€ç«ç„°é¢¨æš´)
- âœ… æŠ€èƒ½æ•ˆæœç³»çµ± (æ”»é˜²åŠ æˆã€æš´æ“Šã€ç ´ç”²ã€ç”Ÿå‘½å·å–ã€ç¯„åœæ”»æ“Šã€Buff/Debuff)
- âœ… æŠ€èƒ½å†·å»æ©Ÿåˆ¶
- âœ… é­”åŠ›æ¶ˆè€—ç³»çµ±
- âœ… æŒçºŒæ•ˆæœ (ç¼ç‡’ã€ä¸­æ¯’ã€æ¸›é€Ÿã€æšˆçœ©)
- âœ… æ•ˆæœåœ–ç¤ºé¡¯ç¤º

### ğŸš§ é–‹ç™¼ä¸­åŠŸèƒ½

#### éŠæˆ²æ¨¡å¼èˆ‡é—œå¡ (v0.7.0)

- â³ å‹åˆ©æ¢ä»¶æ“´å…… (ä½”é ˜/å­˜æ´»/ä¿è­·äººè³ª)
- â³ é—œå¡ç·¨è¼¯å™¨
- â³ æ•™å­¸é—œå¡
- â³ ä¸»ç·šé—œå¡

#### AI ç³»çµ± (v0.8.0)

- â³ åŸºç¤ AI (å„ªå…ˆæ”»æ“Š)
- â³ ä¸­ç´š AI (è©•åˆ†ç³»çµ±)
- â³ é«˜ç´š AI (Minimax)
- â³ é›£åº¦é¸æ“‡

### ğŸ“‹ å¾…é–‹ç™¼åŠŸèƒ½

#### v1.0.0 ç¬¬ä¸€ç‰ˆå®Œæˆ

- 10+ ç¨®å–®ä½
- 5+ ç¨®é—œå¡
- æˆå°±ç³»çµ±
- æ•¸æ“šå¹³è¡¡èª¿æ•´

#### v1.3.0 é¤Šæˆç³»çµ±

- é‡‘éŒ¢è³‡æº
- æ‹›å‹Ÿå–®ä½
- å–®ä½é€²éš

#### v1.5.0 é€£ç·šæº–å‚™

- Client-Server æ¶æ§‹é‡æ§‹
- éŠæˆ²ç‹€æ…‹åºåˆ—åŒ–/ååºåˆ—åŒ–
- æˆ¿é–“ç³»çµ±
- æ–·ç·šé‡é€£æ©Ÿåˆ¶

#### v2.0.0 ç·šä¸Šå°æˆ°

- WebSocket æ•´åˆ
- é…å°ç³»çµ±

---

## ğŸ”§ æ ¸å¿ƒè¨­è¨ˆæ¨¡å¼

### 1. Command Pattern

æ‰€æœ‰ç©å®¶æ“ä½œéƒ½å°è£æˆå‘½ä»¤ç‰©ä»¶ï¼Œä¾¿æ–¼ï¼š

- å‘½ä»¤çš„é©—è­‰å’ŒåŸ·è¡Œ
- æ’¤éŠ·/é‡åšåŠŸèƒ½ (æœªä¾†æ“´å±•)
- å‘½ä»¤åºåˆ—åŒ– (ç”¨æ–¼ç¶²è·¯å°æˆ°)

### 2. Event-Driven Architecture

ä½¿ç”¨ RxJS Subject ä½œç‚ºäº‹ä»¶ç¸½ç·šï¼š

- Angular èˆ‡ Phaser è§£è€¦
- æ˜“æ–¼è¿½è¹¤éŠæˆ²äº‹ä»¶
- ä¾¿æ–¼èª¿è©¦å’Œæ“´å±•

### 3. Service-Oriented Architecture

éŠæˆ²é‚è¼¯åˆ†æ•£åˆ°å„å€‹æœå‹™ï¼š

- `GameStateService`: ç‹€æ…‹ç®¡ç†
- `SkillService`: æŠ€èƒ½è¨ˆç®—
- `CombatCalculator`: æˆ°é¬¥è¨ˆç®—
- `PathfindingService`: å°‹è·¯æ¼”ç®—æ³•

### 4. Factory Pattern

ä½¿ç”¨å·¥å» æ¨¡å¼å‰µå»ºéŠæˆ²ç‰©ä»¶ï¼š

- å–®ä½å‰µå»º
- éŠæˆ²ç‹€æ…‹åˆå§‹åŒ–
- ä¾¿æ–¼å¾ JSON è¼‰å…¥é—œå¡

---

## ğŸ“ é–‹ç™¼å‚™è¨»

### é‡è¦é™åˆ¶

- Phaser Scene ä¸­ä¸å¯ä½¿ç”¨ localStorage (ä¸æ”¯æ´)
- Three.js ä¸å¯ä½¿ç”¨ `THREE.CapsuleGeometry` (r128 ç‰ˆæœ¬æœªæ”¯æ´)
- å¤–éƒ¨è…³æœ¬åªèƒ½å¾ `https://cdnjs.cloudflare.com` å°å…¥

### è³‡æ–™æµå‘

```
ä½¿ç”¨è€…è¼¸å…¥ (Phaser InputManager)
    â†“
ç™¼é€äº‹ä»¶ (GameEventService)
    â†“
Angular Component è™•ç†
    â†“
å»ºç«‹ Command
    â†“
GameStateService åŸ·è¡Œ
    â†“
æ›´æ–°éŠæˆ²ç‹€æ…‹
    â†“
ç™¼é€æ›´æ–°äº‹ä»¶
    â†“
Phaser Scene æ¸²æŸ“
```
